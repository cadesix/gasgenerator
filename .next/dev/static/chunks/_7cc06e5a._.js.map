{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/cade/Desktop/gen-ad-scripts/components/briefs/BriefDetailActions.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { OverflowMenu, OverflowMenuItem } from '@/components/ui/OverflowMenu'\n\ninterface Editor {\n  id: string\n  name: string\n}\n\ninterface BriefDetailActionsProps {\n  briefId: string\n  currentEditorId: string | null\n  currentEditor: { id: string; name: string } | null\n  currentStatus: string\n}\n\nexport function BriefDetailActions({\n  briefId,\n  currentEditorId,\n  currentEditor,\n  currentStatus\n}: BriefDetailActionsProps) {\n  const router = useRouter()\n  const [editors, setEditors] = useState<Editor[]>([])\n  const [status, setStatus] = useState(currentStatus)\n  const [isUpdating, setIsUpdating] = useState(false)\n\n  useEffect(() => {\n    fetchEditors()\n  }, [])\n\n  const fetchEditors = async () => {\n    try {\n      const response = await fetch('/api/editors')\n      if (!response.ok) throw new Error('Failed to fetch editors')\n      const data = await response.json()\n      setEditors(data)\n    } catch (error) {\n      console.error('Error fetching editors:', error)\n    }\n  }\n\n  const handleUpdate = async (field: string, value: string | null) => {\n    setIsUpdating(true)\n\n    try {\n      const response = await fetch(`/api/briefs/${briefId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ [field]: value }),\n      })\n\n      if (!response.ok) throw new Error('Failed to update brief')\n\n      router.refresh()\n    } catch (error) {\n      console.error('Error updating brief:', error)\n      alert('Failed to update brief. Please try again.')\n    } finally {\n      setIsUpdating(false)\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'assigned':\n        return 'bg-neutral-400'\n      case 'in_progress':\n        return 'bg-yellow-500'\n      case 'completed':\n        return 'bg-green-500'\n      default:\n        return 'bg-neutral-400'\n    }\n  }\n\n  const copyBriefLink = () => {\n    const url = `${window.location.origin}/briefs/${briefId}`\n    navigator.clipboard.writeText(url)\n    alert('Brief link copied to clipboard!')\n  }\n\n  return (\n    <div className=\"flex items-center gap-3\">\n      {/* Status Dropdown */}\n      <div className=\"flex items-center gap-2\">\n        <label className=\"text-sm font-medium text-neutral-500\">\n          Status:\n        </label>\n        <div className=\"relative\">\n          <div className={`absolute left-3 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full ${getStatusColor(status)}`} />\n          <select\n            value={status}\n            onChange={(e) => {\n              setStatus(e.target.value)\n              handleUpdate('status', e.target.value)\n            }}\n            className=\"pl-8 pr-10 py-1.5 text-sm border border-neutral-300 rounded-full focus:outline-none appearance-none bg-white cursor-pointer\"\n            disabled={isUpdating}\n            style={{\n              backgroundImage: `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")`,\n              backgroundPosition: 'right 0.5rem center',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: '1.5em 1.5em',\n            }}\n          >\n            <option value=\"assigned\">Assigned</option>\n            <option value=\"in_progress\">In Progress</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Copy Link Button */}\n      <button\n        onClick={copyBriefLink}\n        className=\"text-neutral-500 hover:text-neutral-900\"\n        title=\"Copy brief link\"\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\n        </svg>\n      </button>\n\n      {/* Overflow Menu for Editor */}\n      <OverflowMenu>\n        <div className=\"px-4 py-2 text-xs font-medium text-neutral-500 uppercase\">\n          Change Editor\n        </div>\n        <button\n          onClick={() => handleUpdate('editorId', null)}\n          disabled={isUpdating || !currentEditorId}\n          className=\"w-full text-left\"\n        >\n          <OverflowMenuItem>\n            {currentEditorId ? 'Unassign Editor' : 'No Editor'}\n          </OverflowMenuItem>\n        </button>\n        <div className=\"border-t border-neutral-200 my-1\" />\n        {editors.map((editor) => (\n          <button\n            key={editor.id}\n            onClick={() => handleUpdate('editorId', editor.id)}\n            disabled={isUpdating || currentEditorId === editor.id}\n            className=\"w-full text-left\"\n          >\n            <OverflowMenuItem>\n              {editor.name}\n              {currentEditorId === editor.id && ' âœ“'}\n            </OverflowMenuItem>\n          </button>\n        ))}\n      </OverflowMenu>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/cade/Desktop/gen-ad-scripts/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}